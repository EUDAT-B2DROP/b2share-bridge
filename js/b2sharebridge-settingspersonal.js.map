{"version":3,"file":"b2sharebridge-settingspersonal.js?v=4e12781892a2a938b2cb","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack:///b2sharebridge/src/settings-personal.js"],"sourcesContent":["/**\n *\n * @param event\n */\nfunction saveAPIToken(event) {\n  const server_id = event.target.id.split('_')[3];\n  OC.msg.startSaving('#lostpassword_' + server_id + ' .msg', 'Saving API token');\n  result = {};\n  const post = $('#b2share_apitoken_' + server_id).serializeArray();\n  $.ajax({\n    type: 'POST',\n    url: OC.generateUrl('/apps/b2sharebridge/apitoken'),\n    data: {\n      requesttoken: OC.requestToken,\n      token: post[0].value,\n      serverid: server_id\n    }\n  }).done(function (result) {\n    OC.msg.startAction('#lostpassword_' + server_id + ' .msg', 'Saved!');\n  }).fail(function (result) {\n    OC.msg.startAction('#lostpassword_' + server_id + ' .msg', 'Something went wrong');\n  });\n}\n\n/**\n *\n * @param event\n */\nfunction deleteAPIToken(event) {\n  const server_id = event.target.id.split('_')[3];\n  OC.msg.startAction('#lostpassword_' + server_id + ' .msg', 'Deleting API token');\n  $.ajax({\n    type: 'DELETE',\n    url: OC.generateUrl('/apps/b2sharebridge/apitoken/' + server_id)\n  }).done(function (result) {\n    OC.msg.startAction('#lostpassword_' + server_id + ' .msg', 'Deleted');\n    $('#b2share_apitoken_' + server_id).val('');\n  }).fail(function (result) {\n    OC.msg.startAction('#lostpassword_' + server_id + ' .msg', result.responseJSON);\n  });\n}\n$(document).ready(function () {\n  const saveButtons = $('[id^=b2share_save_apitoken');\n  const deleteButtons = $('[id^=b2share_delete_apitoken');\n  for (let i = 0; i < saveButtons.length; i++) {\n    $('#' + saveButtons[i].id).click(saveAPIToken);\n    $('#' + deleteButtons[i].id).click(deleteAPIToken);\n  }\n});"],"names":[],"sourceRoot":""}